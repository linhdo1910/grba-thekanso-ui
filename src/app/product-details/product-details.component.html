<div class="container" *ngIf="product">
  <div class="row">
    <!-- Left Column - Thumbnail Carousel -->
    <div class="col-md-2">
      <div class="thumbnail-carousel">
        <!-- Static color images as thumbnails -->
        <div *ngFor="let colorName of product.colors; let i = index" class="thumbnail-item">
          <img 
            [src]="productService.getImageUrlByColor(colorName)" 
            alt="{{ colorName }}" 
            class="thumbnail-img" 
            (click)="onColorSelect(colorName)">
        </div>
      </div>
    </div>

    <!-- Middle Column - Main Image -->
    <div class="col-md-4">
      <div class="main-image-carousel">
        <img [src]="currentMainImage" alt="Main Product Image" class="main-img">
      </div>
    </div>

    <!-- Right Column - Product Details -->
    <div class="col-md-6">
      <div class="product-info">
        <h3>{{ product.name }}</h3>

        <div class="rating">
          <span class="text-warning">&#9733;&#9733;&#9733;&#9733;&#9733;</span>
          <span class="text-muted">({{ product.reviews }} reviews)</span>
        </div>

        <div class="price-info mt-3">
          <span class="text-danger">{{ product.price | number }} VND</span>
          <span class="badge bg-danger ms-2">{{ product.discount }}% OFF</span>
        </div>

        <p class="mt-2 text-muted">Inclusive of all taxes</p>

        <div class="product-options mt-3">
          <label for="color">Color</label>
          <div class="color-options">
            <button *ngFor="let colorName of product.colors"
                    class="color-option"
                    [ngStyle]="{'background-image': 'url(' + productService.getImageUrlByColor(colorName) + ')'}"
                    (click)="onColorSelect(colorName)">
              {{ colorName }}
            </button>
            <span class="color-name">{{ selectedColor }}</span>
          </div>

          <label for="size" class="mt-2">Size</label>
          <div>
            <span class="btn btn-primary mx-2">{{ product.sizes }}</span>
          </div>
        </div>

        <div class="quantity-controls mt-3">
          <button class="btn btn-outline-secondary" (click)="changeQuantity(-1)">-</button>
          <span class="mx-2">{{ quantity }}</span>
          <button class="btn btn-outline-secondary" (click)="changeQuantity(1)">+</button>
        </div>

        <div class="product-buttons mt-3">
          <button class="btn btn-primary w-100" (click)="addToCart()">Add to Cart</button>
          <button class="btn btn-warning w-100 mt-2" (click)="quickBuy()">Quick Buy</button>
        </div>

        <div class="additional-info mt-3 text-muted">
          <p>100% Original Products</p>
          <p>Pay on delivery might be available</p>
          <p>Easy 14 days returns and exchanges</p>
          <p>Try & Buy might be available</p>
        </div>
      </div>
    </div>
  </div>
</div>
